<!DOCTYPE html>
<html>
<head>
    <title>DOORS Hub</title>

    <meta charset="utf-8">
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
    body {
        background-color: #000020;
        margin: 0;
        padding: 0;
        font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    div {
        width: 1600px;
        height: auto;
        margin: 5em auto;
        padding: 2em;
        background-color: #a0a0ff;
        border-radius: 0.5em;
        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);
    }
    iframe {
        width: 100%;
        height: auto;
        margin: auto auto;
        padding: auto;
        background-color: #b0b0ff;
        border-radius: 1.0em;
        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);
    }
    </style>    
</head>

<body>
<div>
    <h1>DOORS Hub</h1>

    <p>Welcome to the DOORS system Hub unit!</p>

    <p>
        <button hx-target="#info" hx-get="/lists/doors">Door List</button>
        <button hx-target="#info" hx-get="/lists/intercoms">Intercom List</button>
    </p>

    <p>
        <button hx-target="#info" hx-get="/logs/all">All Logs</button>
        <button hx-target="#info" hx-get="/help">Help</button>
        <button hx-swap="none" hx-get="/actions/test">Test Button</button>
    </p>

    <p>
        <button hx-target="#info" hx-get="/logs/door_manager">Door Manager Logs</button>
        <button hx-target="#info" hx-get="/logs/intercom_server">Intercom Server Logs</button>
    </p>

    <p>
        <button hx-target="#info" hx-get="/logs/web_server">Web Server Logs</button>
        <button hx-target="#info" hx-get="/logs/database_service">Database Service Logs</button>
    </p>

    <div id="info">
        <iframe id="data_frame" src="help.txt"></iframe>
    </div>

    <script src="htmx.min.js"></script>

    <script>
        var data_frame = document.getElementById('data_frame');

        function frame_reload() {
            data_frame.contentWindow.location.reload();
        }

        function frame_onload () {
            var data_frame_body = data_frame.contentWindow.document.querySelector('body');
            data_frame_body.style.color = 'black';
            data_frame_body.style.fontSize = '20px';
            data_frame_body.style.lineHeight = '20px';
            data_frame.style.height = data_frame.contentWindow.document.documentElement.scrollHeight + 'px';
        }

        var data_frame = document.getElementById('data_frame');
        data_frame.onload = frame_onload;

        window.setInterval(function() { frame_reload() }, 1000);
    </script>
</div>
</body>
</html>
